<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="my_bot">

  <!-- Include the inertial macros -->
  <xacro:include filename="inertial_macros.xacro"/>

  <!-- Materials -->
  <material name="white">
    <color rgba="1 1 1 1"/>
  </material>
  <material name="black">
    <color rgba="0 0 0 1"/>
  </material>
  <material name="blue">
    <color rgba="0 0 1 1"/>
  </material>

  <!-- =================== BASE LINK =================== -->
  <link name="base_link"/>

  <!-- =================== CHASSIS =================== -->
  <joint name="chassis_joint" type="fixed">
    <parent link="base_link"/>
    <child link="chassis"/>
    <origin xyz="-0.2 0 0.0" rpy="0 0 0"/>
  </joint>

  <link name= "chassis">
    <visual>
      <origin xyz="0.2 0.0 0.1" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size = "0.4 0.4 0.2"/>
      </geometry>
      <material name = "white"/>
    </visual>
    <collision>
      <origin xyz="0.2 0.0 0.1" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size = "0.4 0.4 0.2"/>
      </geometry>
    </collision>
    <xacro:box_inertia mass="0.5" x="0.4" y="0.4" z="0.2">
      <origin xyz="0.2 0.0 0.1" rpy="0 0 0"/>
    </xacro:box_inertia>
  </link>

  <gazebo reference="chassis">
      <material>Gazebo/White</material>
  </gazebo>

  <!--LEFT FRONT WHEEL JOINT-->
  <joint name="left_front_joint" type="continuous">
    <parent link= "base_link"/>
    <child link = "left_front"/>
    <origin xyz="0.1 0.22 0.0" rpy="-${pi/2} 0 0"/>
    <axis xyz = "0 0 1"/>
  </joint>

  <!--LEFT FRONT WHEEL LINK-->
  <link name = "left_front" >
    <visual>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
      <material name = "blue"/>
    </visual>
    <collision>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
    </collision>
    <xacro:cylinder_inertia mass="0.1" length="0.04" radius="0.075">
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </xacro:cylinder_inertia>
    
  </link> 
  <gazebo reference="left_front">
      <material>Gazebo/Blue</material>
  </gazebo>


  <!--RIGHT FRONT WHEEL JOINT-->
  <joint name="right_front_joint" type="continuous">
    <parent link= "base_link"/>
    <child link = "right_front"/>
    <origin xyz="0.1 -0.22 0.0" rpy="${pi/2} 0 0"/>
    <axis xyz = "0 0 -1"/>
  </joint>

  <!--RIGHT FRONT WHEEL LINK-->
  <link name = "right_front" >
    <visual>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
      <material name = "blue"/>
    </visual>
    <collision>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
    </collision>
    <xacro:cylinder_inertia mass="0.1" length="0.04" radius="0.075">
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </xacro:cylinder_inertia>
    
  </link> 
  <gazebo reference="right_front">
      <material>Gazebo/Blue</material>
  </gazebo>
  <!--LEFT REAR WHEEL JOINT-->
  <joint name="left_rear_joint" type="continuous">
    <parent link= "base_link"/>
    <child link = "left_rear"/>
    <origin xyz="-0.1 0.22 0.0" rpy="-${pi/2} 0 0"/>
    <axis xyz = "0 0 1"/>
  </joint>

  <!--LEFT REAR WHEEL LINK-->
  <link name = "left_rear" >
    <visual>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
      <material name = "blue"/>
    </visual>
    <collision>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
    </collision>
    <xacro:cylinder_inertia mass="0.1" length="0.04" radius="0.075">
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </xacro:cylinder_inertia>
    
  </link> 
  <gazebo reference="left_rear">
      <material>Gazebo/Blue</material>
  </gazebo>
  <!--RIGHT REAR WHEEL JOINT-->
  <joint name="right_rear_joint" type="continuous">
    <parent link= "base_link"/>
    <child link = "right_rear"/>
    <origin xyz="-0.1 -0.22 0.0" rpy="${pi/2} 0 0"/>
    <axis xyz = "0 0 -1"/>
  </joint>

  <!--RIGHT REAR WHEEL LINK-->
  <link name = "right_rear" >
    <visual>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
      <material name = "blue"/>
    </visual>
    <collision>      
      <geometry>
        <cylinder radius="0.075" length="0.04"/>
      </geometry>
    </collision>
    <xacro:cylinder_inertia mass="0.1" length="0.04" radius="0.075">
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </xacro:cylinder_inertia>
    
  </link> 
  <gazebo reference="right_rear">
      <material>Gazebo/Blue</material>
  </gazebo>

  



</robot>
